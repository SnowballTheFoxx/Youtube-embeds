<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SnowballTheFoxx Videos</title>
<style>
  body { font-family: Arial; background:#111; color:#fff; margin:0; padding:10px; }
  .video { margin-bottom:20px; padding-bottom:20px; border-bottom:1px solid #333; }
  img { width:100%; border-radius:8px; }
  .title { font-size:18px; margin-top:10px; }
  .pagination {
    text-align:center;
    margin:20px 0;
    padding:10px 0;
    background:#111;
  }
  .pagination button {
    background:#222;
    color:#fff;
    border:1px solid #444;
    padding:10px 20px;
    font-size:24px;
    border-radius:6px;
    margin:0 10px;
    cursor:pointer;
  }
  #pageInfo {
    text-align:center;
    margin-top:5px;
    font-size:14px;
    color:#aaa;
  }
</style>
</head>
<body>

<h2>SnowballTheFoxx — All Videos</h2>
<div id="videos">Loading…</div>

<div class="pagination">
  <button id="prevBtn">←</button>
  <button id="nextBtn">→</button>
</div>
<div id="pageInfo"></div>

<script>
// ====== CONFIG ======
const API_KEY = "AIzaSyBgsvOG1uPNOGEU0QrRmDKfQctb5H7z7uk";
const CHANNEL_ID = "UCdZb69sWoyrWsnbm4FVCHGA";
const PAGE_SIZE = 20;
// ====================

let nextPageToken = null;
let prevPageToken = null;
let currentPageIndex = 1;

const videosDiv = document.getElementById("videos");
const prevBtn = document.getElementById("prevBtn");
const nextBtn = document.getElementById("nextBtn");
const pageInfo = document.getElementById("pageInfo");

function renderVideos(items) {
  let html = "";
  for (let item of items) {
    const videoId = item.id.videoId;
    if (!videoId) continue;
    const title = item.snippet.title;
    const thumb = item.snippet.thumbnails.high
      ? item.snippet.thumbnails.high.url
      : item.snippet.thumbnails.default.url;

    html += `
      <div class="video" onclick="window.location.href='https://www.youtube.com/embed/${videoId}'">
        <img src="${thumb}">
        <div class="title">${title}</div>
      </div>`;
  }
  videosDiv.innerHTML = html || "No videos found.";
  pageInfo.innerText = "Page " + currentPageIndex;
}

function loadPage(pageToken) {
  videosDiv.innerHTML = "Loading…";

  let url = "https://www.googleapis.com/youtube/v3/search"
          + "?key=" + encodeURIComponent(API_KEY)
          + "&channelId=" + encodeURIComponent(CHANNEL_ID)
          + "&part=snippet"
          + "&order=date"
          + "&maxResults=" + PAGE_SIZE
          + "&type=video";

  if (pageToken) {
    url += "&pageToken=" + encodeURIComponent(pageToken);
  }

  fetch(url)
    .then(r => r.json())
    .then(data => {
      nextPageToken = data.nextPageToken || null;
      prevPageToken = data.prevPageToken || null;
      renderVideos(data.items || []);
      prevBtn.disabled = !prevPageToken;
      nextBtn.disabled = !nextPageToken;
    })
    .catch(() => {
      videosDiv.innerHTML = "Error loading videos.";
    });
}

prevBtn.onclick = () => {
  if (!prevPageToken) return;
  currentPageIndex = Math.max(1, currentPageIndex - 1);
  loadPage(prevPageToken);
};

nextBtn.onclick = () => {
  if (!nextPageToken) return;
  currentPageIndex++;
  loadPage(nextPageToken);
};

// initial load
loadPage(null);
</script>

</body>
</html>